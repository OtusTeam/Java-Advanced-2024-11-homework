# Профилирование приложений

## Описание
Это задание для профилирования сервиса регистрации пользователей с помощью JMC. Для этого в классе UserService были добавлены проблемы, а нагрузка создавалась при помощи JMeter.

## Выявленные проблемы
Методы registerUser() и getUserData() могут вызывать задержки, так как:

- Метод registerUser() сначала захватывает synchronized, а затем lock.lock(), что приводит к потенциальным блокировкам.
- В Thread Dumps было замечено, что несколько потоков ожидают освобождения lock, вызывая заторможенность системы.

В разделе "I/O Activity" обнаружены частые обращения к userRepository.findById(user.getId()).

- Этот запрос выполняется сразу после save(), что избыточно, так как объект уже есть в памяти.

## Скриншоты
![1.jpg](src/main/resources/1.jpg)
![2.jpg](src/main/resources/2.jpg)
![3.jpg](src/main/resources/3.jpg)
![4.jpg](src/main/resources/4.jpg)
![5.jpg](src/main/resources/5.jpg)
![6.jpg](src/main/resources/6.jpg)
![7.jpg](src/main/resources/7.jpg)

## Вывод
На основе анализа JFR можно улучшить производительность сервиса:

- Оптимизировать конкурентный доступ к данным.
- Снизить нагрузку на GC путём пересмотра кеша.
- Минимизировать лишние запросы к базе.